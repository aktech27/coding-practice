// Leetcode 1331

/*
Given an array of integers arr, replace each element with its rank.
The rank represents how large the element is. The rank has the following rules:
Rank is an integer starting from 1.
The larger the element, the larger the rank. If two elements are equal, their rank must be the same.
Rank should be as small as possible.

Example 1:
Input: arr = [40,10,20,30]
Output: [4,1,2,3]
Explanation: 40 is the largest element. 10 is the smallest. 20 is the second smallest. 30 is the third smallest.

Example 2:
Input: arr = [100,100,100]
Output: [1,1,1]
Explanation: Same elements share the same rank.

Example 3:
Input: arr = [37,12,28,9,100,56,80,5,12]
Output: [5,3,4,2,8,6,7,1,3]
 
Constraints:
0 <= arr.length <= 105
-109 <= arr[i] <= 109
*/

  /**
 * @param {number[]} arr
 * @return {number[]}
 */
var arrayRankTransform = function (arr) {
  let sorted = [...new Set([...arr])].sort((a, b) => a - b);
  const hashMap = {};
  for (let i = 0; i < arr.length; i++) {
    hashMap[sorted[i]] = i + 1;
  }
  for (let i = 0; i < arr.length; i++) {
    arr[i] = hashMap[arr[i]];
  }
  return arr;
};

console.log(arrayRankTransform([40, 10, 20, 30]));
console.log(arrayRankTransform([100, 100, 100]));
console.log(arrayRankTransform([37, 12, 28, 9, 100, 56, 80, 5, 12]));
console.log(arrayRankTransform([-752568125, -755503750, -758439375, -761375000, -764310625, -767246250, -770181875, -773117500, -776053125, -778988750, -781924375, -784860000, -787795625, -790731250, -793666875, -796602500, -799538125, -802473750, -805409375, -808345000, -811280625, -814216250, -817151875, -820087500, -823023125, -825958750, -828894375, -831830000, -834765625, -837701250, -840636875, -843572500, -846508125, -849443750, -852379375, -855315000, -858250625, -861186250, -864121875, -867057500, -869993125, -872928750, -875864375, -878800000, -881735625, -884671250, -887606875, -890542500, -893478125, -896413750, -899349375, -902285000, -905220625, -908156250, -911091875, -914027500, -916963125, -919898750, -922834375, -925770000, -928705625, -931641250, -934576875, -937512500, -940448125, -943383750, -946319375, -949255000, -952190625, -955126250, -958061875, -960997500, -963933125, -966868750, -969804375, -972740000, -975675625, -978611250, -981546875, -984482500, -987418125, -990353750, -993289375, -996225000, 1000000000, 997064375, 994128750, 991193125, 988257500, 985321875, 982386250, 979450625, 976515000, 973579375, 970643750, 967708125, 964772500, 961836875, 958901250, 955965625, 953030000, 950094375, 947158750, 944223125, 941287500, 938351875, 935416250, 932480625, 929545000, 926609375, 923673750, 920738125, 917802500, 914866875, 911931250, 908995625, 906060000, 903124375, 900188750, 897253125, 894317500, 891381875, 888446250, 885510625, 882575000, 879639375, 876703750, 873768125, 870832500, 867896875, 864961250, 862025625, 859090000, 856154375, 853218750, 850283125, 847347500, 844411875, 841476250, 838540625, 835605000, 832669375, 829733750, 826798125, 823862500, 820926875, 817991250, 815055625, 812120000, 809184375, 806248750, 803313125, 800377500, 797441875, 794506250, 791570625, 788635000, 785699375, 782763750, 779828125, 776892500, 773956875, 771021250, 768085625, 765150000, 762214375, 759278750, 756343125, 753407500, 750471875, 747536250, 744600625, 741665000, 738729375, 735793750, 732858125, 729922500, 726986875, 724051250, 721115625, 718180000, 715244375, 712308750, 709373125, 706437500, 703501875, 700566250, 697630625, 694695000, 691759375, 688823750, 685888125, 682952500, 680016875, 677081250, 674145625, 671210000, 668274375, 665338750, 662403125, 659467500, 656531875, 653596250, 650660625, 647725000, 644789375, 641853750, 638918125, 635982500, 633046875, 630111250, 627175625, 624240000, 621304375, 618368750, 615433125, 612497500, 609561875, 606626250, 603690625, 600755000, 597819375, 594883750, 591948125, 589012500, 586076875, 583141250, 580205625, 577270000, 574334375, 571398750, 568463125, 565527500, 562591875, 559656250, 556720625, 553785000, 550849375, 547913750, 544978125, 542042500, 539106875, 536171250, 533235625, 530300000, 527364375, 524428750, 521493125, 518557500, 515621875, 512686250, 509750625, 506815000, 503879375, 500943750, 498008125, 495072500, 492136875, 489201250, 486265625, 483330000, 480394375, 477458750, 474523125, 471587500, 468651875, 465716250, 462780625, 459845000, 456909375, 453973750, 451038125, 448102500, 445166875, 442231250, 439295625, 436360000, 433424375, 430488750, 427553125, 424617500, 421681875, 418746250, 415810625, 412875000, 409939375, 407003750, 404068125, 401132500, 398196875, 395261250, 392325625, 389390000, 386454375, 383518750, 380583125, 377647500, 374711875, 371776250, 368840625, 365905000, 362969375, 360033750, 357098125, 354162500, 351226875, 348291250, 345355625, 342420000, 339484375, 336548750, 333613125, 330677500, 327741875, 324806250, 321870625, 318935000, 315999375, 313063750, 310128125, 307192500, 304256875, 301321250, 298385625, 295450000, 292514375, 289578750, 286643125, 283707500, 280771875, 277836250, 274900625, 271965000, 269029375, 266093750, 263158125, 260222500, 257286875, 254351250, 251415625, 248480000, 245544375, 242608750, 239673125, 236737500, 233801875, 230866250, 227930625, 224995000, 222059375, 219123750, 216188125, 213252500, 210316875, 207381250, 204445625, 201510000, 198574375, 195638750, 192703125, 189767500, 186831875, 183896250, 180960625, 178025000, 175089375, 172153750, 169218125, 166282500, 163346875, 160411250, 157475625, 154540000, 151604375, 148668750, 145733125, 142797500, 139861875, 136926250, 133990625, 131055000, 128119375, 125183750, 122248125, 119312500, 116376875, 113441250, 110505625, 107570000, 104634375, 101698750, 98763125, 95827500, 92891875, 89956250, 87020625, 84085000, 81149375, 78213750, 75278125, 72342500, 69406875, 66471250, 63535625, 60600000, 57664375, 54728750, 51793125, 48857500, 45921875, 42986250, 40050625, 37115000, 34179375, 31243750, 28308125, 25372500, 22436875, 19501250, 16565625, 13630000, 10694375, 7758750, 4823125, 1887500, -1048125, -3983750, -6919375, -9855000, -12790625, -15726250, -18661875, -21597500, -24533125, -27468750, -30404375, -33340000, -36275625, -39211250, -42146875, -45082500, -48018125, -50953750, -53889375, -56825000, -59760625, -62696250, -65631875, -68567500, -71503125, -74438750, -77374375, -80310000, -83245625, -86181250, -89116875, -92052500, -94988125, -97923750, -100859375, -103795000, -106730625, -109666250, -112601875, -115537500, -118473125, -121408750, -124344375, -127280000, -130215625, -133151250, -136086875, -139022500, -141958125, -144893750, -147829375, -150765000, -153700625, -156636250, -159571875, -162507500, -165443125, -168378750, -171314375, -174250000, -177185625, -180121250, -183056875, -185992500, -188928125, -191863750, -194799375, -197735000, -200670625, -203606250, -206541875, -209477500, -212413125, -215348750, -218284375, -221220000, -224155625, -227091250, -230026875, -232962500, -235898125, -238833750, -241769375, -244705000, -247640625, -250576250, -253511875, -256447500, -259383125, -262318750, -265254375, -268190000, -271125625, -274061250, -276996875, -279932500, -282868125, -285803750, -288739375, -291675000, -294610625, -297546250, -300481875, -303417500, -306353125, -309288750, -312224375, -315160000, -318095625, -321031250, -323966875, -326902500, -329838125, -332773750, -335709375, -338645000, -341580625, -344516250, -347451875, -350387500, -353323125, -356258750, -359194375, -362130000, -365065625, -368001250, -370936875, -373872500, -376808125, -379743750, -382679375, -385615000, -388550625, -391486250, -394421875, -397357500, -400293125, -403228750, -406164375, -409100000, -412035625, -414971250, -417906875, -420842500, -423778125, -426713750, -429649375, -432585000, -435520625, -438456250, -441391875, -444327500, -447263125, -450198750, -453134375, -456070000, -459005625, -461941250, -464876875, -467812500, -470748125, -473683750, -476619375, -479555000, -482490625, -485426250, -488361875, -491297500, -494233125, -497168750, -500104375, -503040000, -505975625, -508911250, -511846875, -514782500, -517718125, -520653750, -523589375, -526525000, -529460625, -532396250, -535331875, -538267500, -541203125, -544138750, -547074375, -550010000, -552945625, -555881250, -558816875, -561752500, -564688125, -567623750, -570559375, -573495000, -576430625, -579366250, -582301875, -585237500, -588173125, -591108750, -594044375, -596980000, -599915625, -602851250, -605786875, -608722500, -611658125, -614593750, -617529375, -620465000, -623400625, -626336250, -629271875, -632207500, -635143125, -638078750, -641014375, -643950000, -646885625, -649821250, -652756875, -655692500, -658628125, -661563750, -664499375, -667435000, -670370625, -673306250, -676241875, -679177500, -682113125, -685048750, -687984375, -690920000, -693855625, -696791250, -699726875, -702662500, -705598125, -708533750, -711469375, -714405000, -717340625, -720276250, -723211875, -726147500, -729083125, -732018750, -734954375, -737890000, -740825625, -743761250, -746696875, -749632500, -752568125, -755503750, -758439375, -761375000, -764310625, -767246250, -770181875, -773117500, -776053125, -778988750, -781924375, -784860000, -787795625, -790731250, -793666875, -796602500, -799538125, -802473750, -805409375, -808345000, -811280625, -814216250, -817151875, -820087500, -823023125, -825958750, -828894375, -831830000, -834765625, -837701250, -840636875, -843572500, -846508125, -849443750, -852379375, -855315000, -858250625, -861186250, -864121875, -867057500, -869993125, -872928750, -875864375, -878800000, -881735625, -884671250, -887606875, -890542500, -893478125, -896413750, -899349375, -902285000, -905220625, -908156250, -911091875, -914027500, -916963125, -919898750, -922834375, -925770000, -928705625, -931641250, -934576875, -937512500, -940448125, -943383750, -946319375, -949255000, -952190625, -955126250, -958061875, -960997500, -963933125, -966868750, -969804375, -972740000, -975675625, -978611250, -981546875, -984482500, -987418125, -990353750, -993289375, -996225000, -999160625]));
console.log(arrayRankTransform([]));
console.log(arrayRankTransform([0, 0, 0, -1]));
